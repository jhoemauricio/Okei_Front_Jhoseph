<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="assets/images/favicon-32x32.png" type="image/png" />
  <!-- Bootstrap CSS -->
  <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
  <link href="assets/css/bootstrap-extended.css" rel="stylesheet" />
  <link href="assets/css/style.css" rel="stylesheet" />
  <link href="assets/css/icons.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

<!-- css SelectPais-->
  <link rel="stylesheet" href="pluginFlagPais/build/css/countrySelect.css">
   <!-- loader-->
  <!-- Modal css loadingModal -->
  <link rel="stylesheet" href="pluginLoading/css/jquery.loadingModal.css">
  <link rel="stylesheet" href="pluginIntTel/build/css/intlTelInput.css">

  <!--Css plugin multiStepForm -->
  <!-- <link rel="stylesheet" type="text/css" href="pluginStep/css/multi-form.css"> -->
  <!-- loader-->
	<link href="assets/css/pace.min.css" rel="stylesheet" />
 

  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>


 
    <!--Select Pais-->
    <script src="pluginFlagPais/build/js/countrySelect.js"></script>
   <!-- Plugin intTelInput -->
   <script src="pluginIntTel/build/js/intlTelInput.js"></script>

   <script src="scripts/validacaoFormularioCadastro.js"></script>
   <script src="scripts/checarIdentificador.js"></script>
   <script src="scripts/cadastrar.js"></script>
   <script src="scripts/enviarCodigo.js"></script>
   <script src="scripts/loadingPages.js"></script>
   <script src="scripts/buscaCep.js"></script>


 
  
 
  <title>Página de Cadastro</title>
</head>

<body class="bg-surface" id="body">

  <!--start wrapper-->
  <div class="wrapper">

       <header>
          <nav class="navbar navbar-expand-lg navbar-light bg-white rounded-0 border-bottom">
            <div class="container">
              <a class="navbar-brand" href="#"><img src="assets/images/brand-logo-2.png" width="140" alt=""/></a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mb-2 mb-lg-0 align-items-center">
                  <li class="nav-item">
                    <a class="nav-link" href="#">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="javascript:;">Sobre</a>
                  </li>
                </ul>
                <div class="d-flex ms-3 gap-3">
                  <a href="login.html" class="btn btn-primary btn-sm px-4 radius-30">Login</a>
                  <a href="novo-form-cadastro.html" class="btn btn-white btn-sm px-4 radius-30">Cadastrar</a>
                </div>
              </div>
            </div>
          </nav>
       </header>
    
       <!--start content-->
       <main class="authentication-content">
        <div class="container">
          <div class="mt-4">
            <div class="card rounded-0 overflow-hidden shadow-none border mb-5 mb-lg-0">
              <div class="row g-0">

                <!-- <div class="col-12 order-1 col-xl-8 d-flex align-items-center justify-content-center border-end"> -->
                  <!-- <img src="assets/images/error/auth-img-7.png" class="img-fluid" alt=""> -->
                <!-- </div> -->

                <div class="col-12 order-1 col-xl-8 d-flex align-items-left justify-content-left border-end">

                <!-- <div class="col-12 col-xl-6 order-xl-2" style="background-color: blue;"> -->
                  <div class="card-body p-4 p-sm-5">
                    
                    <h5 class="card-title">Criar conta</h5>
                   
                     <form class="form-body needs-validation" id="form" novalidate>

                      <div id="tab1">
                        <p class="card-text mb-4">Seja um membro Okei em poucos passos! <b>1/3</b></p>
                        <div class="row g-2 col-md-12">

                          <div class="col-12 col-md-12 col-lg-10">
                            <label class="form-label">Nome</label>
                            <div class="ms-auto position-relative">
                              <div class="position-absolute top-50 translate-middle-y search-icon px-3"><i class="bi bi-person-circle"></i></div>
                              <input type="text" class="form-control radius-30 ps-5" id="nome" placeholder="Nome completo"  required>
                             
                            </div>
                          </div>

                          <div class="col-12 col-md-4" >
                            <label class="form-label">Nascimento</label>
                            <div class="ms-auto position-relative">
                              <div class="position-absolute top-50 translate-middle-y search-icon px-3"><i class="lni lni-calendar"></i></div>
                              <input type="date" class="form-control radius-30 ps-5" id="data_nascimento">
                            </div>
                          </div>

                            <div class="col-12 col-md-6 col-xl-4 col-sm-6" >
                            <label class="form-label">País</label>
                            <div class="ms-auto position-relative">
                              <!-- <div class="position-absolute top-50 translate-middle-y search-icon px-3"><i class="fadeIn animated bx bx-been-here"></i></div> -->
                              <!-- <input id="pais" type="text" class="form-control radius-30 ps-5" placeholder=""> -->
                              <input id="country_selector" type="text" class="form-control radius-30 ps-5" required>
                            </div>
                            </div>

                            <script>

                              //-----------Label de CPF, RG mudam se for diferente do BRASIL-----------

                                $("#country_selector").on('change',function(){

                                    if($("#country_selector").val() != "Brazil (Brasil)"){

                                          document.getElementById("label-cpf").innerText = "Contribuinte/NIF/VAT NUMBER";
                                          document.getElementById("label-rg").innerText = "Passaporte/BI/CC";

                                    }

                                    if($("#country_selector").val() == "Brazil (Brasil)"){

                                          document.getElementById("label-cpf").innerText = "CPF";
                                          document.getElementById("label-rg").innerText = "Rg/Passaporte";

                                    }

                              });

                              // ----------------Seleciona Pais do usuario--------------------

                              //dispara quando usuario altera a opcao selecionada
                                $("#country_selector").on('change',function(){

                                   console.log($("#country_selector").val());
                                   var nomePais =  $("#country_selector").val();
                                   localStorage.setItem("paisUser",nomePais);
                                   paisUser();

                                 
                                });

                                //Para acessar o objeto country
                                var myData = $("#country_selector").countrySelect("getSelectedCountryData");
                                var myData = $.fn.countrySelect.getCountryData();

                                function paisUser(){

                                        Object.keys(myData).forEach(function(item){
                                              if((localStorage.getItem("paisUser")) === (myData[item].name)){

                                                  //console.log(myData[item].iso2);
                                                  //acessa propriedade do objeto iso2 ex: BR, AG

                                                  pais = myData[item].iso2;

                                                  //converte para maiusculo
                                                  pais = pais.toUpperCase();

                                                  console.log(pais);
                                                  localStorage.setItem("pais",pais);

                                              }
                                        });
                                }

                                
                           
                            </script>

                          <div class="col-12 col-md-8 col-lg-4" >
                            <label class="form-label" id="label-cpf">CPF</label>
                            <div class="ms-auto position-relative">
                              <div class="position-absolute top-50 translate-middle-y search-icon px-3"><i class="fadeIn animated bx bx-user"></i></div>
                              <input type="text" class="form-control radius-30 ps-5" id="cpf" placeholder="00000000000" minlength="11" maxlength="11" required>
                            </div>
                          </div>          

                          <div class="col-12 col-md-6">
                            <label class="form-label" id="label-rg">Rg/Passaporte</label>
                            <div class="ms-auto position-relative">
                              <div class="position-absolute top-50 translate-middle-y search-icon px-3"><i class="lni lni-plane"></i></div>
                              <input type="text" class="form-control radius-30 ps-5" id="rg_passaporte" placeholder="nº" minlength="12" maxlength="12" required>
                            </div>
                          </div>
                          
                          <div class="col-12 col-md-4">
                            <label class="form-label">Validade</label>
                            <div class="ms-auto position-relative">
                              <div class="position-absolute top-50 translate-middle-y search-icon px-3"><i class="lni lni-calendar"></i></div>
                              <input type="date" class="form-control radius-30 ps-5" id="validade" required>
                            </div>
                          </div>

                          <div class="col-12 col-md-4">
                            <label class="form-label">Telefone</label>
                            <div class="ms-auto position-relative">
                              <!-- <div class="position-absolute top-50 translate-middle-y search-icon px-3"><i class="fadeIn animated bx bx-mobile-alt"></i></div> -->
                              <input type="tel" class="form-control radius-30 ps-5" id="phone"  required>
                            </div>
                          </div>

                          <div class="col-12 col-md-6">
                            <label for="inputEmailAddress" class="form-label">Email</label>
                            <div class="ms-auto position-relative">
                              <div class="position-absolute top-50 translate-middle-y search-icon px-3"><i class="fadeIn animated bx bx-mail-send"></i></div>
                              <input type="email" class="form-control radius-30 ps-5" id="email" placeholder="Email" required>
                            </div>
                          </div>

                          <div class="col-12 col-md-3">
                            <label class="form-label">Sexo</label>
                            <div class="ms-auto position-relative"></div>
                            <div class="input-group">
                              <select id="sexo" class="form-control radius-30 ps-3" aria-label="Default select example"  required>
                                <option value="m">Masculino</option>
                                <option value="f">Feminino</option>
                              </select>
                            </div>
                          </div>
                          
                          <div class="col-12 col-md-10">
                            <label class="form-label">Senha</label>
                            <div class="ms-auto position-relative">
                              <div class="position-absolute top-50 translate-middle-y search-icon px-3"><i class="lni lni-lock-alt"></i></div>
                              <input type="password" class="form-control radius-30 ps-5" id="senha" placeholder="Password"  minlength="6" required>
                            </div>
                          </div>
                               
                          <div class="col-12 col-md-10">
                            <label class="form-label">Confirmação de senha</label>
                            <div class="ms-auto position-relative">
                              <div class="position-absolute top-50 translate-middle-y search-icon px-3"><i class="lni lni-lock-alt"></i></div>
                              <input type="password" class="form-control radius-30 ps-5" id="conf_senha" placeholder="Password"  minlength="6" required>
                            </div>
                          </div>

                          <div id="botao" class="col-12 col-md-10">
                            <button id="botaoIr" type="button" class="btn btn-primary" onclick="validarSenha();">Proximo</button>
                          
                          </div>
                    
                        </div>
                 
                      </div>

                      <div id="tab2" >

                        <p class="card-text mb-4">Estamos quase lá! <b>2/3</b></p>

                          <div class="row g-2 col-md-12" >

                            <div class="col-12 col-md-6">

                              <label class="form-label">Cep</label>
                              <div class="ms-auto position-relative">
                                <div class="input-group mb-3">
                                <input type="number" class="form-control radius-30 ps-5" placeholder="Buscar cep" id="cep"  required>
                                <div class="input-group-prepend">
                                  <button class="btn btn-outline-secondary" type="button"
                                    id="button-addon1" onclick="consultarCep();" ><i class="lni lni-search"></i></button>
                                </div>
                                </div>
                              </div>
                            </div>

                            <div id="enderecoConteudo">

                              <div class="col-12">

                                <label class="form-label">Endereço/Morada</label>
                                  <div class="ms-auto position-relative">
                                    <div class="position-absolute top-50 translate-middle-y search-icon px-3"><i class="lni lni-home"></i></div>
                                  <input type="text" id="endereco" type="text" class="form-control radius-30 ps-5"  required>
                                </div>
                              </div>

                              <div class="col-6 col-lg-2 col-md-2">
                                <label class="form-label">Numero</label>
                                <input type="number" id="numero" type="number" class="form-control radius-30 ps-5"  required>
                              </div>

                              <div class="col-12">
                                <label class="form-label">Complemento/localidade</label>
                                <input type="text" id="complemento" type="text" class="form-control radius-30 ps-5" >
                              </div>
          
                              <div class="col-12">
                                <label class="form-label">Bairro/Freguesia</label>
                                <input type="text" id="bairro" type="text" class="form-control radius-30 ps-5"  required>
                              </div>

                              <div class="col-12">
                                <label class="form-label">Cidade/Distrito</label>
                                <input type="text" id="cidade" type="text" class="form-control radius-30 ps-5" required>
                              </div>

                              <div class="col-12">
                                <label class="form-label">UF/Concelho</label>
                                <input type="text" id="uf" type="text" class="form-control radius-30 ps-5" minlength="2" maxlength="2" required>
                              </div>

                           
                        
                            </div>

                            <div class="col-12 col-md-10">
                              <button class="btn btn-primary" onclick="irUltimo();">Proximo</button>
                              <button class="btn btn-warning" onclick="voltar();">Voltar</button>
                            </div>

                          </div>

                      </div>

                      <div id="tab3">
                        <p class="card-text mb-4">Pronto! finalize seu cadastro</p>

                        
                          <!-- <div id="ultimoStep"> -->
                              <!-- <p class="card-text mb-4">Torne-se um membro Okei!</p> -->
                                <!-- Button trigger modal -->
                              <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="enviarCodigo();">Finalizar</button>
             

                              <!-- Modal -->
                               <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog">
                                  <div class="modal-content">
                                    <div class="modal-header">
                                      <h5 class="modal-title" id="exampleModalLabel">Confirme seu telemóvel</h5>
                                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                      O código de verificação foi enviado para seu telemóvel
                                      <div class="col-6">
                                        <label class="form-label">TEMPO</label>
                                        <input id="codigo" type="nuber" class="form-control radius-5 ps-3" maxlength="4" minlength="4" placeholder="insira seu codigo aqui">
                                      </div>
                                    </div>
                                    <div class="modal-footer">
                                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                                      <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onclick="enviarCodigo();">Confirmar</button>
                                      <button type="button" class="btn" style="background-color: #17a2b8;color:white;" data-bs-dismiss="modal" onclick="enviarCodigo();">Reenviar código</button>
                                    </div>
                                  </div>
                                </div>
                              </div> 
                            <!-- </div> -->

                            <!-- <div id="ultimoStep2" style="display:none;">  -->
                              <div class="row g-2 col-md-12" >
                                <div class="col-12 col-md-6">
                                  <div class="ms-auto position-relative">
                                    <div class="input-group mb-3">
                                      <div class="input-group-prepend">
                                          <h4 style="color:#1c65ee">Parabéns! cadastro concluído com sucesso</h4>
                                          <p style="text-align: justify;">Você agora é um membro OKEI! em breve terá acesso ao nosso Portal,
                                            nele poderá acompanhar teus pontos no Clube OKEI,
                                            poderá se candidatar em nossos treinamentos e muito mais!<a href="login.html">Acesse o portal</a></p>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            <!-- </div> -->
                      
                      </div>
                      </form>
                    </div>

                    <script>
                         
                      //---------------------   Botoes ir e voltar ---------------------
                   
                      // document.getElementById("nome").addEventListener("input", function() {
                      //     if((this.value) == '') {
                      //       document.getElementById("botaoIr").disabled = true;
                           
                      //     } else {
                           
                      //       document.getElementById("botaoIr").disabled = false;
                      //     }
                      //   });

                  


                      // function ir(){

                      //  document.querySelector('#tab1').style.display = "none";
                      //  document.querySelector('#tab2').style.display = "block";

                      // }

                      // function voltar(){
                      //   $("#tab2").hide();
                      //   $("#tab1").show();
                      // }

                      // function irUltimo(){
                     
                      //   $("#tab2").hide();
                      //   $("#tab3").show();
                      // }

                    
                    
                    </script>

                                        
         

                   
                 <!-- </div> -->
                </div>
                  <div class="col-12 col-xl-4 order-xl-2">
                    <img src="assets/images/error/auth-img-7.png" class="img-fluid" alt=""> 
                  </div> 
                </div>
              </div>
            </div>
          </div>
        </div>
       </main>
        
       <!--end page main-->

       <footer class="bg-white border-top p-3 text-center fixed-bottom">
        <p class="mb-0">Copyright © 2021. All right reserved.</p>
      </footer>

  </div>
  <!--end wrapper-->


  <!--PLugin de País-->
  <script>

    // Plugin de País
    $("#country_selector").countrySelect({
      //   defaultCountry: 'br',
      // // onlyCountries: ['us', 'gb', 'ch', 'ca', 'do'],
      // // responsiveDropdown: true,
      // preferredCountries: ['ca', 'gb', 'us']

    });

  </script>


  <!-- Bootstrap bundle JS -->
  <script src="assets/js/bootstrap.bundle.min.js"></script>
  

  <!--plugins-->
  <script src="assets/js/jquery.min.js"></script>
  <script src="assets/js/pace.min.js"></script>


  <!--Loading Modal-->
  <script src="pluginLoading/js/jquery.loadingModal.js"></script>

  <!-- script multiStepForm -->
  <!-- <script type="text/javascript" src="pluginStep/js/multi-form.js"></script> -->
 
 <!-- MultStepForm -->
  <!-- <script type="text/javascript">

    $(document).ready(function () {
      $("#form").multiStepForm(
        {

          callback: function () {
            console.log("save");
          }
        }
      ).navigateTo(0);
    });


  </script> -->

<!-- intTelInput Plugin -->
<script>

  var input = document.querySelector("#phone");
       intlTelInput(input, {
        // allowDropdown: false,
        // autoHideDialCode: false,
        // autoPlaceholder: "off",
        // dropdownContainer: document.body,
        // excludeCountries: ["us"],
        // formatOnDisplay: false,
        // geoIpLookup: function(callback) {
        //   $.get("http://ipinfo.io", function() {}, "jsonp").always(function(resp) {
        //     var countryCode = (resp && resp.country) ? resp.country : "";
        //     callback(countryCode);
        //   });
        // },
        //  hiddenInput: "full_number",
        // initialCountry: "auto",
        // localizedCountries: { 'de': 'Deutschland' },
         nationalMode: false,
        // onlyCountries: ['us', 'gb', 'ch', 'ca', 'do'],
        // placeholderNumberType: "MOBILE",
        // preferredCountries: ['cn', 'jp'],
        // separateDialCode: true,
        utilsScript: "pluginIntTel/build/js/utils.js",
      });
  
    </script>

    <script>
              // Example starter JavaScript for disabling form submissions if there are invalid fields
        (function () {
          'use strict'

          // Fetch all the forms we want to apply custom Bootstrap validation styles to
          var forms = document.querySelectorAll('.needs-validation')

          // Loop over them and prevent submission
          Array.prototype.slice.call(forms)
            .forEach(function (form) {
              form.addEventListener('click', function (event) {
                if (!form.checkValidity()) {
                  event.preventDefault()
                  event.stopPropagation()
                }

                form.classList.add('was-validated')
              }, false)
            })
        })()


    </script>











</body>





</html>