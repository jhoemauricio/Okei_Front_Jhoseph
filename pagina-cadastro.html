<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="assets/images/favicon-32x32.png" type="image/png" />


  <!--------------------- DATA ------------------------------------>
  <link href="assets/plugins/datetimepicker/css/classic.css" rel="stylesheet" />
  <link href="assets/plugins/datetimepicker/css/classic.time.css" rel="stylesheet" />
  <link href="assets/plugins/datetimepicker/css/classic.date.css" rel="stylesheet" />
  <link rel="stylesheet"
    href="assets/plugins/bootstrap-material-datetimepicker/css/bootstrap-material-datetimepicker.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <!--------------------- DATA ------------------------------------>

  <link href="assets/plugins/perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet" />
  <link href="assets/plugins/metismenu/css/metisMenu.min.css" rel="stylesheet" />

  <!-- Bootstrap CSS -->

  <!-- Css plugin multiStepForm -->
  <link rel="stylesheet" type="text/css" href="pluginStep/css/multi-form.css">

  <link rel="stylesheet" href="pais/css/chosen.css">
  <link rel="stylesheet" href="pais/css/ImageSelect.css">

  <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
  <link href="assets/css/bootstrap-extended.css" rel="stylesheet" />
  <link href="assets/css/style.css" rel="stylesheet" />
  <link href="assets/css/icons.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

  <!-- loader-->
  <!-- Modal css loadingModal -->
  <link rel="stylesheet" href="pluginLoading/css/jquery.loadingModal.css">

  <link href="assets/css/pace.min.css" rel="stylesheet" />
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>

  <script src="scripts/cadastrar.js"></script>
  <script src="scripts/enviarCodigo.js"></script>
  <script src="scripts/loadingPages.js"></script>
  <script src="scripts/pais.js"></script>
  <script src="scripts/buscaCep.js"></script>


  <title>Página de Cadastro de Usuário</title>
</head>




<body class="bg-surface" id="body">

  <!--start wrapper-->
  <div class="wrapper">

    <header>
      <nav class="navbar navbar-expand-lg navbar-light bg-white rounded-0 border-bottom">
        <div class="container">
          <a class="navbar-brand" href="#"><img src="assets/images/brand-logo-2.png" width="140" alt="" /></a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mb-2 mb-lg-0 align-items-center">
              <li class="nav-item">
                <a class="nav-link" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="javascript:;">Sobre</a>
              </li>

            </ul>

            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            </ul>

            <div class="d-flex ms-3 gap-3">
              <a href="login.html" class="btn btn-primary btn-sm px-4 radius-30">Login</a>
              <a href="pagina-cadastro.html" class="btn btn-white btn-sm px-4 radius-30">Cadastrar</a>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <!--start content-->
    <main class="authentication-content">


      <div class="card rounded-3">

        <div class="col-lg-6 d-flex shadow p-3 align-items-center justify-content-center mx-auto mt-5">


          <div class="card-body">


            <div class="border p-3 rounded">
              <h5 class="mb-0  font-weight-bold " style="color: #3562ff;"><i class="lni lni-user"></i> CRIAR CONTA</h5>
              <hr />

              <form class="row g-4" id="myForm">
                <!-- Inicio multiStepForm -->
                <div style="text-align: center;">

                  <span class="step"><i class="fadeIn animated bx bx-user font-20"></i></span>
                  <span class="step"><i class="fadeIn animated bx bx-map font-20"></i></span>
                  <span class="step"><i class="fadeIn animated bx bx-badge-check font-20"></i></span>

                </div>
                <!-- Fim multiStepForm -->

                <!-- multiStepForm primeiro -->
                <div class="tab">

                  <div class="col-12">
                    <p class="font-weight-bold text-align"></p>
                  </div>

                  <div class="col-12">
                    <label class="form-label">Nome</label>
                    <div class="input-group">
                      <span class="input-group-text" style="background-color: #d5ebff;"><i
                          class="lni lni-user"></i></span>
                      <input id="nome" type="text" class="form-control radius-5 ps-3" placeholder="Nome completo">
                    </div>
                  </div>

                  <div class="col-6">
                    <label class="form-label">Nascimento</label>
                    <input id="data_nascimento" type="date" class="form-control radius-5 ps-3">
                  </div>

                  <div class="col-6">
                    <label class="form-label">Sexo</label>

                    <div class="input-group">
                      <span class="input-group-text" id="basic-addon1" style="background-color: #d5ebff;"><i
                          class="fadeIn animated bx bx-male"></i></span>

                      <select id="sexo" class="form-control">
                        <option selected>m</option>
                        <option>f</option>
                      </select>
                    </div>

                  </div>

                  <div class="col-2">
                    <label class="form-label">País</label>

                    <!-- DDI país -->
                    <div class="col-12" id="pais-ddi">
                      <select id="select" style="position: absolute;"></select>
                    </div>

                    <script>

                      //div recebe true
                      var div = true;
                      //aumentar e diminuir div DDI país
                      $("#pais-ddi").click(function () {

                        if (div) {
                          //div recebe false
                          div = false;
                          $(this).css('height', '125px');

                        } else {
                          div = true;
                          $(this).css('height', 'auto');
                        }

                      });
                      

                          $("#select").click(function(e){

                            e.preventDefault();
                            var  val =  $("#select").val();
                            novo = val.toString();
                            //separa por espaco as posicoes
                            var posicao = novo.split(' ');
                            //posicao 0 onde esta a sigla do país
                            //inicio e final da posicao que será extraida

                            if(posicao[0] == "BRA"){
                              var pais = posicao[0].substr(0,2);
                              localStorage.setItem("pais",pais);
                              
                            }else if(posicao[0] == "PRT"){
                               posicao[0] = "PT";
                               var pais = posicao[0];
                               localStorage.setItem("pais",pais);

                            }
                           

                           
                           
                            console.log(pais);
                              
                          });

                          
                          

                        

                         
                     


                        

                        
                          
                    </script>

                  </div>

                  <!-- Brasil CPF passaporte RG -->
                  <div class="col-4">
                    <label class="form-label">CPF</label>
                    <input id="cpf" type="text" class="form-control radius-5 ps-3">
                  </div>
                  <div class="col-4">
                    <label class="form-label">RG/PASSAPORTE</label>
                    <input id="rg_passaporte" type="text" class="form-control radius-5 ps-3">
                  </div>

                  <!-- Portugal passaporte/bi/cc e Contribuinte/NIF/VAT Number -->
                  <div class="col-4" style="display:none;">
                    <label class="form-label">Contribuinte/NIF/VAT Number</label>
                    <input id="contribuinte" type="text" class="form-control radius-5 ps-3">
                  </div>
                  <div class="col-4" style="display:none;">
                    <label class="form-label">Passaporte/bi/cc</label>
                    <input id="passaporte" type="text" class="form-control radius-5 ps-3">
                  </div>

                  <div class="col-3">
                    <label class="form-label">Validade</label>
                    <input id="validade" type="date" class="form-control radius-5 ps-3">
                  </div>
                  <div class="col-4">
                    <label class="form-label">Fone de contato</label>
                    <div class="input-group">
                      <span class="input-group-text" id="basic-addon1" style="background-color: #d5ebff;"><i
                          class="fadeIn animated bx bx-phone-call"></i></span>
                      <input id="fone_contato" type="text" class="form-control radius-5 ps-3" placeholder="Telefone">
                    </div>
                  </div>
                  <div class="col-12">
                    <label class="form-label">Email</label>
                    <div class="input-group">
                      <span class="input-group-text" id="basic-addon1" style="background-color: #d5ebff;"><i
                          class="fadeIn animated bx bx-mail-send"></i></span>
                      <input id="email" type="text" class="form-control radius-5 ps-3" placeholder="email@email.com">
                    </div>
                  </div>
                  <div class="col-12">
                    <label class="form-label">Senha</label>
                    <div class="input-group">
                      <span class="input-group-text" id="basic-addon1" style="background-color: #d5ebff;"><i
                          class="fadeIn animated bx bx-key"></i></span>
                      <input id="senha" type="password" class="form-control radius-5 ps-3">
                    </div>
                  </div>
                  <div class="col-12">
                    <label class="form-label">Confirmação de senha</label>
                    <div class="input-group">
                      <span class="input-group-text" id="basic-addon1" style="background-color: #d5ebff;"><i
                          class="fadeIn animated bx bx-key"></i></span>
                      <input id="conf_senha" type="password" class="form-control radius-5 ps-3">
                    </div>
                  </div>

                </div>
                <!-- multiStepForm Fim -->

                <!-- Endereco -->
                <div class="tab">

                  <div class="col-6">
                    <label class="form-label">CEP</label>
                    <div class="input-group mb-3">

                      <input type="text" class="form-control radius-5 ps-3" placeholder="00000"
                        aria-label="Example text with button addon" aria-describedby="button-addon1" id="cep">
                      <div class="input-group-prepend">
                        <button class="btn btn-outline-secondary" type="button"
                          id="button-addon1" onclick="consultaCep();"><i class="lni lni-search"></i></button>
                      </div>
                    </div>

                  </div>


                  <!-- Conteudo endereco BR -->
                  <div id="enderecoConteudo" style="display: none;">

                    <div class="col-6">
                      <label class="form-label">Endereço/Morada</label>
                      <input id="endereco" type="text" class="form-control radius-5 ps-3" disabled>
                    </div>

                    <div class="col-6">
                      <label class="form-label">Numero</label>
                      <input id="numero" type="text" class="form-control radius-5 ps-3">
                    </div>

                    <div class="col-6">
                      <label class="form-label">Complemento/localidade</label>
                      <input id="complemento" type="text" class="form-control radius-5 ps-3" disabled>
                    </div>

                    <div class="col-6">
                      <label class="form-label">Bairro/Freguesia</label>
                      <input id="bairro" type="text" class="form-control radius-5 ps-3" disabled>
                    </div>
                    <div class="col-6">
                      <label class="form-label">Cidade/Distrito</label>
                      <input id="cidade" type="text" class="form-control radius-5 ps-3" disabled>
                    </div>
                    <div class="col-6">
                      <label class="form-label">UF/Concelho</label>
                      <input id="uf" type="text" class="form-control radius-5 ps-3" disabled>
                    </div>
                  </div>
                  <!-- Fim conteúdo Endereco BR -->


                </div>

                <!-- Finalizar -->
                <div class="tab">

                  <div class="col-6">

                 	<!-- Button trigger modal -->
										<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="enviarCodigo();">Finalizar cadastro</button>
										<!-- Modal -->
										<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
											<div class="modal-dialog">
												<div class="modal-content">
													<div class="modal-header">
														<h5 class="modal-title" id="exampleModalLabel">Confirme seu telemóvel</h5>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
													</div>
													<div class="modal-body">
                            O código de verificação foi enviado para seu telemóvel
                            <div class="col-6">
                              <label class="form-label">TEMPO</label>
                              <input id="codigo" type="nuber" class="form-control radius-5 ps-3" maxlength="4" minlength="4" placeholder="insira seu codigo aqui">
                            </div>
                          </div>
													<div class="modal-footer">
														<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
														<button type="button" class="btn btn-primary" onclick="cadastrar();">Confirmar</button>
                            <button type="button" class="btn" style="background-color: #17a2b8;color:white;"> Reenviar Codigo</button>
													</div>
												</div>
											</div>
										</div>

                  </div>

        

                </div>




                <div class="col-12">
                  <button type="button" class="btn btn-secondary previous"><i class="lni lni-chevron-left"></i></button>
                  <button type="button" class="btn btn-primary next"><i class="lni lni-chevron-right"></i></button>
                  <!-- <button type="button" class="btn btn-success submit"><i class="lni lni-checkmark"></i></button> -->

                </div>


              </form>



            </div>








    </main>


    <!--end page main-->

    <footer class="bg-white border-top p-1 text-center fixed-bottom">
      <p class="mb-0">Copyright © 2022. Softlive.</p>
    </footer>

  </div>
  <!--end wrapper-->
  <script>

    $("#button-addon1").click(function (e) {
      e.preventDefault();

      $("#enderecoConteudo").show();

    });
  </script>

  <!-- Bootstrap bundle JS -->
  <script src="assets/js/bootstrap.bundle.min.js"></script>

  <!--plugins-->

  <script src="assets/js/jquery.min.js"></script>
  <script src="assets/js/pace.min.js"></script>

  <!-- jQuery plugin Chosen-->
  <script src="pais/js/chosen.jquery.js"></script>
  <script src="pais/js/ImageSelect.jquery.js"></script>

  <script src="assets/plugins/datetimepicker/js/legacy.js"></script>
  <script src="assets/plugins/datetimepicker/js/picker.js"></script>
  <script src="assets/plugins/datetimepicker/js/picker.time.js"></script>
  <script src="assets/plugins/datetimepicker/js/picker.date.js"></script>
  <script src="assets/plugins/bootstrap-material-datetimepicker/js/moment.min.js"></script>
  <script src="assets/plugins/bootstrap-material-datetimepicker/js/bootstrap-material-datetimepicker.min.js"></script>
  <script src="assets/js/form-date-time-pickes.js"></script>


  <!--Loading Modal-->
  <script src="pluginLoading/js/jquery.loadingModal.js"></script>





  <!-- script multiStepForm -->
  <script type="text/javascript" src="pluginStep/js/multi-form.js"></script>


  <script type="text/javascript">

    $(document).ready(function () {
      $("#myForm").multiStepForm(
        {

          callback: function () {
            console.log("save");
          }
        }
      ).navigateTo(0);
    });
  </script>

</body>

</html>